
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Data Migration — Import"/>
<meta name="description" content="sdbimprt sdbimprt is a import tool in SequoiaDB database, it can achieve from a JSON format or a CSV format data stored file import into SequoiaDB database. The record of JSON format must meet the ..."/>
<meta name="DC.Relation" scheme="URI" content="../../../../administration/database/database_tool/topics/database_tool_en.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="database_import_en"/>
<link rel="stylesheet" type="text/css" href="../../../../commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../../../assets/webhelp_topic.css"/>
<title>Data Migration — Import</title>
<script type="text/javascript" src="../../../../assets/jquery-1.3.2.js"> </script><script type="text/javascript" src="../../../../assets/jquery-ui-1.8.2.custom.min.js"> </script><script type="text/javascript" src="../../../../assets/frames_redirect.js"> </script><script type="text/javascript"><!--
    var prefix = "../../../../../index.html";
    var ratingFile = "";
    redirectToToc(window.location.search);
    function highlightSearchTerm(){
        if(parent.termsToHighlight != null){
        // highlight each term in the content view  
          for(i = 0 ; i < parent.termsToHighlight.length ; i++){        
              $('*', window.parent.frames[1].document).highlight(parent.termsToHighlight[i]);
          }
        }
    }
//--></script></head>
<body onload="highlightSearchTerm()" id="database_import_en"><a name="database_import_en"><!-- --></a>
<table class="nav"><tbody><tr><td><div class="navheader"><span class="frames" onclick="redirectFrames(location.pathname)"><script type="text/javascript"><!--
  if (parent.window.location.pathname == window.location.pathname ) document.write('With Frames');                    
                    --></script></span><a class="link" href="../../../../administration/database/database_tool/topics/database_tool_en.html" title="DataBase Tool"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">DataBase Tool</span></a>  </div></td><td width="50%"><a class="navheader_parent_path" href="../../topics/database_en.html" title="DataBase Management">DataBase Management</a> / <a class="navheader_parent_path" href="../../../../administration/database/database_tool/topics/database_tool_en.html" title="DataBase Tool">DataBase Tool</a></td></tr></tbody></table>

  <h1 class="title topictitle1">Data Migration — Import</h1>

  <div class="body">
    <div class="section"><h2 class="title sectiontitle">sdbimprt</h2>
      
      <p class="p">sdbimprt  is a  import tool in SequoiaDB database, it can achieve from a JSON format or a
        CSV format data stored file import into SequoiaDB database.</p>

      <p class="p">The record of JSON format must meet the json definition:Left and right curly braces ({})as
        a record delimiter; and the string data type must be contained in doublequotation marks; and
        escape character is defined as the backslash(\).</p>

      <p class="p">CSV is called for short Comma-Separated Value, each record is separate by 0x0D in
        default, and fields separated by commas. Users can specify the delimiter between fields, as
        well as the records. Delimiters defined(only support ASCII characters):</p>

      <div class="p">
        <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead">
            <th valign="bottom" align="left" id="d18546e30" class="stentry">Usage</th>

            <th valign="bottom" align="left" id="d18546e33" class="stentry">Default</th>

            <th valign="bottom" align="left" id="d18546e36" class="stentry">Be equipped</th>

          </tr>
<tr class="strow">
            <td valign="top" headers="d18546e30" class="stentry">string delimiter</td>

            <td valign="top" headers="d18546e33" class="stentry"> "</td>

            <td valign="top" headers="d18546e36" class="stentry">yes </td>

          </tr>
<tr class="strow">
            <td valign="top" headers="d18546e30" class="stentry">character delimiter</td>

            <td valign="top" headers="d18546e33" class="stentry"> ,</td>

            <td valign="top" headers="d18546e36" class="stentry">yes</td>

          </tr>
<tr class="strow">
            <td valign="top" headers="d18546e30" class="stentry">record delimiter</td>

            <td valign="top" headers="d18546e33" class="stentry"> '\n'(0X0D) </td>

            <td valign="top" headers="d18546e36" class="stentry">yes</td>

          </tr>
</table>

      </div>

    </div>

    <div class="section"><h2 class="title sectiontitle">Options</h2>
      
      <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead">
          <th valign="bottom" align="left" id="d18546e88" class="stentry">Param</th>

          <th valign="bottom" align="left" id="d18546e91" class="stentry">Description</th>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--help,-h</td>

          <td valign="top" headers="d18546e91" class="stentry">return the basic help and usage information.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--version</td>

          <td valign="top" headers="d18546e91" class="stentry">returns version information.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--hostname,-s                </td>

          <td valign="top" headers="d18546e91" class="stentry">import data from SequoiaDB of the specified hostname.In default, the
            <strong class="ph b">sdbimprt</strong> try to connect to local hostname.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --svcname,-p
          </td>

          <td valign="top" headers="d18546e91" class="stentry">specify port. In default, the <strong class="ph b">sdbimprt</strong> try to connect to the host which port number is 11810.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--user,-u
          </td>

          <td valign="top" headers="d18546e91" class="stentry">database username.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--password,-w
          </td>

          <td valign="top" headers="d18546e91" class="stentry">database password.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--delchar,-a</td>

          <td valign="top" headers="d18546e91" class="stentry">specify the character delimiter. " " " is default, "csv" format effective.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --delfield,-e
          </td>

          <td valign="top" headers="d18546e91" class="stentry">specify the field delimiter. "," is default, "csv" format effective. </td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --delrecord,-r
          </td>

          <td valign="top" headers="d18546e91" class="stentry">specify the record delimiter. "\n" is default, "csv" format effective.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --csname,-c
          </td>

          <td valign="top" headers="d18546e91" class="stentry">specify the collectionspace name of exported data.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --clname,-l
          </td>

          <td valign="top" headers="d18546e91" class="stentry">specify the collection name of exported data.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--insertnum,-n
          </td>

          <td valign="top" headers="d18546e91" class="stentry">Batch import records, if you set one, use common way to import, if more than one, use batch mode ,the setting range is 1~100000. </td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --file
          </td>

          <td valign="top" headers="d18546e91" class="stentry">specify the name of file want to import.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --type
          </td>

          <td valign="top" headers="d18546e91" class="stentry">specify the format of import data. It can be CSV or JSON.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --fields
          </td>

          <td valign="top" headers="d18546e91" class="stentry">Specify import data field names. "csv" format effective. </td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --headerline
          </td>

          <td valign="top" headers="d18546e91" class="stentry">Specifies whether the first row of imported data as field names. "false" is default, "csv" format effective. </td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --sparse
          </td>

          <td valign="top" headers="d18546e91" class="stentry">Specify the import data, automatically add the field name. "ture" is default, "csv" format effective.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">
            --extra
          </td>

          <td valign="top" headers="d18546e91" class="stentry">Specify the import data, automatically add value. "false" is default, "csv" format effective.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--linepriority
          </td>

          <td valign="top" headers="d18546e91" class="stentry">Current delimiter default priority is: record delimiter, character delimiter, field delimiter, the default value is ture; If set to false, 
            then the priority of the separator: character deliiter, record delimiter, field delimiter.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--force
          </td>

          <td valign="top" headers="d18546e91" class="stentry">If the data has not utf8 data, forced to import data, default false.</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e88" class="stentry">--errorstop
          </td>

          <td valign="top" headers="d18546e91" class="stentry">If you encounter an error stop, default false.</td>

        </tr>
</table>
      
    </div>

    <div class="note note"><span class="notetitle">Note:</span> Linepriority parameters need to be particularly concerned, if set properly, it may fail to import the data. When the record contains "record separator" 
      and linepriority is true, the tool will give priority in accordance with the "record separator" resolution, which led to the import fails. For example: 
      If the record is {"name":"Mike\n"}, the false linepriority mode should be selected.</div>

    <div class="section"><h2 class="title sectiontitle">Return value</h2>
      
      <p class="p">0: Succeed</p>

      <p class="p">1: Succeed but include warnings</p>

      <p class="p">2: Fail</p>

      <p class="p">127: Parameters error</p>

    </div>

    <div class="section"><h2 class="title sectiontitle">Usage</h2>
      
      <p class="p">In the following sample, sdbimprt will import data into local database which port is 11810,
        and collectionspace name is <em class="ph i">foo</em>, collection name is<em class="ph i"> bar</em>, and import type is
        csv, import file is<em class="ph i"> test.csv</em>.</p>

      <pre class="pre codeblock">sdbimprt -s localhost -p 11810 --type csv --file test.csv -c foo -l bar</pre>

    </div>

    <div class="section"><h2 class="title sectiontitle">Data types automatically detected by sdbimprt:</h2>
      
      <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead">
          <th valign="bottom" align="left" id="d18546e347" class="stentry">CSV data</th>

          <th valign="bottom" align="left" id="d18546e350" class="stentry">Data types automatically detected by sdbimprt</th>

          <th valign="bottom" align="left" id="d18546e353" class="stentry">Actual data</th>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">123</td>

          <td valign="top" headers="d18546e350" class="stentry">number</td>

          <td valign="top" headers="d18546e353" class="stentry">123</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">123.1</td>

          <td valign="top" headers="d18546e350" class="stentry">number</td>

          <td valign="top" headers="d18546e353" class="stentry">123.1</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">+123</td>

          <td valign="top" headers="d18546e350" class="stentry">number</td>

          <td valign="top" headers="d18546e353" class="stentry">123</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">-123</td>

          <td valign="top" headers="d18546e350" class="stentry">number</td>

          <td valign="top" headers="d18546e353" class="stentry">-123</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">2E+2</td>

          <td valign="top" headers="d18546e350" class="stentry">number</td>

          <td valign="top" headers="d18546e353" class="stentry">200</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">-2E+2</td>

          <td valign="top" headers="d18546e350" class="stentry">number</td>

          <td valign="top" headers="d18546e353" class="stentry">-200</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">0123</td>

          <td valign="top" headers="d18546e350" class="stentry">number</td>

          <td valign="top" headers="d18546e353" class="stentry">123</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">"123"</td>

          <td valign="top" headers="d18546e350" class="stentry">string</td>

          <td valign="top" headers="d18546e353" class="stentry">123</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">123a</td>

          <td valign="top" headers="d18546e350" class="stentry">string</td>

          <td valign="top" headers="d18546e353" class="stentry">123a</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">"ab""c"</td>

          <td valign="top" headers="d18546e350" class="stentry">string</td>

          <td valign="top" headers="d18546e353" class="stentry">ab"c</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">"{a:1}"</td>

          <td valign="top" headers="d18546e350" class="stentry">string</td>

          <td valign="top" headers="d18546e353" class="stentry">{a:1}</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">"true"</td>

          <td valign="top" headers="d18546e350" class="stentry">string</td>

          <td valign="top" headers="d18546e353" class="stentry">true</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">"false"</td>

          <td valign="top" headers="d18546e350" class="stentry">string</td>

          <td valign="top" headers="d18546e353" class="stentry">false</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">"null"</td>

          <td valign="top" headers="d18546e350" class="stentry">string</td>

          <td valign="top" headers="d18546e353" class="stentry">null</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">true</td>

          <td valign="top" headers="d18546e350" class="stentry">boolean</td>

          <td valign="top" headers="d18546e353" class="stentry">true</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">false</td>

          <td valign="top" headers="d18546e350" class="stentry">boolean</td>

          <td valign="top" headers="d18546e353" class="stentry">false</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e347" class="stentry">null</td>

          <td valign="top" headers="d18546e350" class="stentry">null</td>

          <td valign="top" headers="d18546e353" class="stentry">null</td>

        </tr>
</table>

    </div>
    
    <p class="p">Data types and default values can be specified since version 1.8.</p>

    <p class="p">Syntax: field [type] [default &lt;default value ]</p>

    <p class="p">Supported data types: int(integer), long, bool(boolean), double, string, null</p>

    <p class="p">Supported special data types: timestamp, date</p>

    <div class="p">Example:<pre class="pre codeblock">name string default "Jack", age int default 18, phone string</pre>
 </div>
 
    <p class="p">The data type is optional. If the data type is not specified by the user; it will be automatically detected and determined in the standard shown in the above table.</p>

    <div class="section"><h2 class="title sectiontitle">Usage</h2>
      <div class="p">In the following example, sdbimprt imports the data into corresponding collection space "foo" and collection "bar" of the local database which connected with the port 11810, with an import type of cvs and import file of test.csv.
        <pre class="pre codeblock">sdbimprt -s localhost -p 11810 --type csv --file test.csv -c foo -l bar --fields 'name string default "Jack", age int default 18, phone string'</pre>

        <div class="note note"><span class="notetitle">Note:</span> The field can be either specified in the command line or in the first line of the import file. If --fields is specified and --headerline is set to true in the command line, the import tool will use the command line's specified field in the first priority and skip the first line of the import file.</div>
</div>

      <ul class="ul">
        <li class="li"><p class="p">Example 1: The import file type is cvs, and the file name is test.cvs. Import the data into collection "bar" of collection space "foo".</p>
<p class="p">The following words are the content of the import file:</p>

          <pre class="pre codeblock">"Jack",18,"China"
"Mike",20,"USA"</pre>
<p class="p">import command:</p>

          <pre class="pre codeblock">sdbimprt -s localhost -p 11810 --type csv --file test.csv -c foo -l bar --fields 'name string default "Anonymous", age int, country'</pre>
</li>

        <li class="li"><p class="p">Example 2: The import type is cvs, and the file name is test.cvs. Import the data into collection "bar" of collection space "foo".</p>
<p class="p">The following words are the content of the import file:</p>

          <pre class="pre codeblock">name, age, country
"Jack",18,"China"
"Mike",20,"USA"</pre>
<p class="p">import command:</p>

          <pre class="pre codeblock">sdbimprt -s localhost -p 11810 --type csv --file test.csv -c foo -l bar --fields 'name string default "Anonymous", age int, country' --headerline true</pre>
</li>
        
      </ul>

      <div class="note note"><span class="notetitle">Note:</span> <p class="p">Because the fields are specified in the first line of the file in Example 2. If the fields need to be specified again, and set "--headerline true" in the command line, and set "-fields 'name string default "Anonymous", age int, country'", then the import tool will use the field names in the command line and skip the first line of the import file.</p>
</div>
      
    </div>
     
    <div class="section"><h2 class="title sectiontitle">Data and Specified types:</h2>
      
      <table cellpadding="4" cellspacing="0" summary="" border="1" class="simpletable"><tr class="sthead">
          <th valign="bottom" align="left" id="d18546e645" class="stentry">Specified types</th>

          <th valign="bottom" align="left" id="d18546e648" class="stentry">Supported data type</th>

          <th valign="bottom" align="left" id="d18546e651" class="stentry">Note</th>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">int(interger)</td>

          <td valign="top" headers="d18546e648" class="stentry">int, string, bool</td>

          <td valign="top" headers="d18546e651" class="stentry">bool type, true converts to 1, false converts to 0</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">long</td>

          <td valign="top" headers="d18546e648" class="stentry">long, string, int, bool</td>

          <td valign="top" headers="d18546e651" class="stentry">bool type,true converts to 1, false converts to 0</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">bool(boolean)</td>

          <td valign="top" headers="d18546e648" class="stentry">bool, string, int, long</td>

          <td valign="top" headers="d18546e651" class="stentry">int and long type, 0 converts to false, any number other than 0 converts to true</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">double</td>

          <td valign="top" headers="d18546e648" class="stentry">double, string, int</td>

          <td valign="top" headers="d18546e651" class="stentry"> </td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">string</td>

          <td valign="top" headers="d18546e648" class="stentry">int, long, bool, double, string, timestamp, date, null</td>

          <td valign="top" headers="d18546e651" class="stentry"> </td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">timestamp</td>

          <td valign="top" headers="d18546e648" class="stentry">string, long</td>

          <td valign="top" headers="d18546e651" class="stentry">string type, like "2014-01-01-10.30.00.000000", "1388543400000"; long type, like 1388543400000, both types are correct, <div class="fig fignone"/>
the valuesare in the miliseconds</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">date</td>

          <td valign="top" headers="d18546e648" class="stentry">string, long</td>

          <td valign="top" headers="d18546e651" class="stentry">string type, like "2014-01-01", "1388543400"; long type, like 1388543400, both types are correct, the values are in seconds</td>

        </tr>
<tr class="strow">
          <td valign="top" headers="d18546e645" class="stentry">null</td>

          <td valign="top" headers="d18546e648" class="stentry"> </td>

          <td valign="top" headers="d18546e651" class="stentry">if the data type is specified as null, then the data will be a null no matters what it really is.</td>

        </tr>
</table>

    </div>
       
    <p class="p">Data type priority:</p>

    <p class="p">1. When data types are not specified (special data type are not supported): data types will be automatically detected, the priority is in the order of: null &gt; bool &gt; int &gt; double &gt; long &gt; string</p>

    <p class="p">2. When data types are specified: Priority is in the order of: Specified data type &gt; supported data type &gt; null</p>

    <p class="p">3. When data types and default values are specified: Priority is in the order of: Specified data type &gt; supported data type &gt; default value &gt; null</p>
    
  </div>

<div class="related-links"/>
<div class="navfooter"><a class="link" href="../../../../administration/database/database_tool/topics/database_tool_en.html" title="DataBase Tool"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">DataBase Tool</span></a>  <script type="text/javascript"><!--         
    function expand(){
        parent.tocwin.expandToTopic(window.location.href, this.getAttribute('href'));
    }
    var aArray = document.getElementsByTagName('a');
    var i;
    for (i = 0; i< aArray.length; i++){
      aArray[i].onclick = expand;
    }
//--></script></div><div class="footer"><a href="http://www.sequoiadb.com" target="_blank"><img src="../../../../assets/images/sequoiadb_logo.png" alt="SequoiaDB"/></a>SequoiaDB Version 1.11
          
    </div>
</body>
</html>