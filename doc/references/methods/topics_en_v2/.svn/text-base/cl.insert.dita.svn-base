<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_4kf_dyl_5n">
  <title>db.collectionspace.collection.insert()</title>
  <body>
    <section>
      <title>NAME</title>
      <p>insert - Insert records into a specified collection.</p>
    </section>
    <section>
      <title>SYNOPSIS</title>
      <p></p><apiname>db.collectionspace.collection.insert</apiname>(<parmname>&lt;doc|docs></parmname>,<parmname>[flag]</parmname>)
    </section>
    <section>
      <title>CATEGORY</title>
      <p></p>Collection
    </section>
    <section>
      <title>DESCRIPTION</title> 
      <p>Insert records into a  specified collection. If the collection space or collection doesn't exist,
        please create a new collection space. For example, the command "db.createCS("foo")" creates
        a new collection space named "foo". Then create a new collection in collection space. For
        instance, the command "db.foo.createCL("bar")" creates a collection named "bar" under the
        collection space "foo" so that users can insert data into the collection "bar".</p>
      <parml>
        <plentry>
          <pt>doc|docs (json object)</pt>
          <pd>Document record. The parameter "doc" means one record. The parameter "docs" means more than one record.</pd>
        </plentry>
        <plentry>
          <pt>flag (int)</pt>
          <pd>SDB_INSERT_RETURN_ID or SDB_INSERT_CONTONDUP. The former one is valid when insert a single record, the latter one is valid when insert multiple records, it means that when multiple records are inserted, if records with repeated "_id" field occurs, these records will be skipped and the database will continue with subsequent records. In the default case, if records with repeated "_id" field occurs, the insert action will be terminated and the subsequent records will not be inserted..
            <parml>
              <plentry>
                <pt>Format</pt>
                <pd>The definition of "insert()" contains two fields: doc|docs and flag.</pd>
                <pd>doc: ({"&lt; field name 1&gt;":"&lt; value &gt;","&lt; field name 2&gt;":"&lt; value &gt;",...}[,SDB_INSERT_CONTONDUP|SDB_INSERT_RETURN_ID })</pd>
                <pd>docs: ([
                  {"&lt; field name 1&gt;":"&lt; value &gt;","&lt; field name 2&gt;":"&lt; value &gt;",...},
                  {"&lt; field name 1&gt;":"&lt; value &gt;","&lt; field name 2&gt;":"&lt; value &gt;",...},...
                  ])</pd>
              </plentry>
            </parml></pd>
        </plentry>        
      </parml>
      <note>
        <ul>
          <li>If the value of "_id" is not specified in a record that is about to be inserted, the
            system will generate the value of "_id" automatically to ensure the uniqueness of the
            record.</li>
        </ul>
      </note>      
    </section>    
    <section>
      <title>Examples</title>
      <p>Insert a record without the value of "_id".</p>
      <codeblock>db.foo.bar.insert({name:"Tom",age:20})</codeblock>
      <p>This operation inserts a new record into collection "bar". In this record, the value
        of "name" is "Tom", and the value of "age" is 20. The value of "_id" is uniquely
        generated:</p>
      <codeblock>{ "_id": { "$oid": "515152ba49af395200000000" }, "name": "Tom", "age": 20 }</codeblock>
      <p>Insert a record that contains the value of "_id".</p>
      <codeblock>db.foo.bar.insert({_id:10,age:20})</codeblock>
      <p>This operation inserts a new record into the collection "bar". The value of "_id" is
        10. The value of "age" is 20:</p>
      <codeblock>{ "_id": 10, "age": 20 }</codeblock>
      <p>Insert more than one record.</p>
      <codeblock>db.foo.bar.insert([{_id:20,name:"Mike",age:15},{name:"John",age:25,phone:123}])</codeblock>
      <p>This operation will insert 2 records into the collection "bar":</p>
      <p>1)In the first record, the value of "_id" is 20. The value of "name" is "Mike". The
        value of "age" is 15.</p>
      <p>2)In the second record, the value of "_id" is generated by the system. The value of
        "name" is "John". The value of "age" is 25. The value of "phone" is 123.</p>
      <codeblock>     {
        "_id": 20, 
        "name": "Mike", 
        "age": 15 
        }</codeblock><codeblock>     { 
        "_id": { "$oid": "5151557a49af395200000001" }, 
        "name": "John", 
        "age": 25, 
        "phone": 123 
        }</codeblock>
      <p>Insert records with repeated "_id" field.</p>
      <codeblock>db.foo.bar.insert([{_id:1,a:1 },{_id:1,b:2 },{_id:3,c:3}], SDB_INSERT_CONTONDUP)</codeblock>
      <p>This operation will insert two records in collection "bar".</p>
      <codeblock>{
"_id": 1,
"a": 1,
}
{
"_id": 3,
"c": 3
}</codeblock>
    </section>
  </body>
  <related-links>
    <link href="cl.count.dita" format="dita" type="topic"></link>
    <link href="cl.find.dita" format="dita" type="topic"></link>    
  </related-links>
</topic>
