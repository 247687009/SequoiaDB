<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="administration_database_monitoring_snapshot_collectionspaces">
  <title>Collection Spaces Snapshot</title>
  <body>
    <section><title>Description</title>
      <p>Collection space snapshot contains all the collection space in the current data node. Each
        collection space is recorded as one record.</p>
    </section>
    <section><title>Sign</title>
      <p>SDB_SNAP_COLLECTIONSPACES</p>
    </section>
    
    <section><title>Field Information</title>
      <p>Since information stored in data nodes and catalog node is not the same, collection space
        snap will return different structures according to the kind of the node:</p>
    </section>
    <section><title>Other Node Field information</title>
      <simpletable><!-- frame="all" relcolwidth="1.0* 1.0* 2.0*" id="administration_database_monitoring_snapshot_collectionspaces_data_table">-->
        <sthead>
          <stentry>Field Name</stentry>
          <stentry>Type</stentry>
          <stentry>Description</stentry>
        </sthead>
        <strow>
          <stentry>Name</stentry>
          <stentry>String</stentry>
          <stentry>Collection space name</stentry>
        </strow>
        <strow>
          <stentry>Collection</stentry>
          <stentry>String array</stentry>
          <stentry>All the collections in collection space</stentry>
        </strow>
        <strow>
          <stentry>PageSize</stentry>
          <stentry>Integer</stentry>
          <stentry>Size of data page in collection space</stentry>
        </strow>
        <strow>
          <stentry>LobPageSize</stentry>
          <stentry>Integer</stentry>
          <stentry>Pages number of LOB in the collection</stentry>
        </strow>
        <strow>
          <stentry>MaxCapacitySize</stentry>
          <stentry>Long integer</stentry>
          <stentry>Max capacity of a collection space</stentry>
        </strow>
        <strow>
          <stentry>MaxDataCapSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Maximum data file capacity size of the collection space</stentry>
        </strow>
        <strow>
          <stentry>MaxIndexCapSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Maximum index file capacity size of the collection space</stentry>
        </strow>
        <strow>
          <stentry>MaxLobCapSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Maximum LOB file capacity size of the collection space</stentry>
        </strow>
        <strow>
          <stentry>NumCollections</stentry>
          <stentry>Integer</stentry>
          <stentry>Number of collections in a collection space</stentry>
        </strow>
        <strow>
          <stentry>TotalRecords</stentry>
          <stentry>integer</stentry>
          <stentry>Total number of records in a collection space</stentry>
        </strow>
        <strow>
          <stentry>TotalSize</stentry>
          <stentry>Long integer</stentry>
          <stentry>Total size of a collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeSize</stentry>
          <stentry>Long integer</stentry>
          <stentry>Total free space size of a collection space</stentry>
        </strow>
        <strow>
          <stentry>TotalDataSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Total size of all the data files in the collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeDataSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Size of total available data file storing space of the collection space </stentry>
        </strow>
        <strow>
          <stentry>TotalIndexSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Total size of all the index files in the collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeIndexSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Size of total available index file storing space of the collection space</stentry>
        </strow>
        <strow>
          <stentry>TotalLobSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Total size of all the LOB files in the collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeLobSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Size of total available LOB file storing space of the collection space</stentry>
        </strow>
      </simpletable>
    </section>    
    <section><title>Coord Node Field Information</title>
      <simpletable><!-- frame="all" relcolwidth="1.0* 1.0* 2.0*" id="administration_database_monitoring_snapshot_collectionspaces_coord_table">-->
        <sthead>
          <stentry>Field Name</stentry>
          <stentry>Type</stentry>
          <stentry>Description</stentry>
        </sthead>
        <strow>
          <stentry>Name</stentry>
          <stentry>String</stentry>
          <stentry>Collection space name</stentry>
        </strow>
        <strow>
          <stentry>Collection</stentry>
          <stentry>String array</stentry>
          <stentry>All the collection in the collection space</stentry>
        </strow>
        <strow>
          <stentry>PageSize</stentry>
          <stentry>Integer</stentry>
          <stentry>Size of data page in collection space</stentry>
        </strow>
        <strow>
          <stentry>LobPageSize</stentry>
          <stentry>Integer</stentry>
          <stentry>Pages number of LOB in the collection</stentry>
        </strow>
        <strow>
          <stentry>TotalSize</stentry>
          <stentry>Long integer</stentry>
          <stentry>Total size of a collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeSize</stentry>
          <stentry>Long integer</stentry>
          <stentry>Total free space size of a collection space</stentry>
        </strow>
        <strow>
          <stentry>TotalDataSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Total size of all the data files in the collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeDataSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Size of total available data file storing space of the collection space</stentry>
        </strow>
        <strow>
          <stentry>TotalIndexSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Total size of all the index files in the collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeIndexSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Size of total available index file storing space of the collection space</stentry>
        </strow>
        <strow>
          <stentry>TotalLobSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Total size of all the LOB files in the collection space</stentry>
        </strow>
        <strow>
          <stentry>FreeLobSize</stentry>
          <stentry>Long Integer</stentry>
          <stentry>Size of total available LOB file storing space of the collection space</stentry>
        </strow>
        <strow>
          <stentry>Group.GroupName</stentry>
          <stentry>String</stentry>
          <stentry>Group name list of the replset of the collection space</stentry>
        </strow>
      </simpletable>
    </section>
    <section>
      <title>Other Node Sample</title>
      <codeblock>> db.snapshot(SDB_SNAP_COLLECTIONSPACES)
{
  "Collection": [
    {
      "Name": "bar"
    }
  ],
  "PageSize": 65536,
  "LobPageSize": 262144,
  "MaxCapacitySize": 26388279066624,  
  "MaxDataCapSize": 8796093022208,
  "MaxIndexCapSize": 8796093022208,
  "MaxLobCapSize": 8796093022208,
  "NumCollections": 4,
  "TotalRecords": 2,
  "TotalSize": 306315264,
  "FreeSize": 265551224,
  "TotalDataSize": 155254784,
  "FreeDataSize": 133627904,
  "TotalIndexSize": 151060480,
  "FreeIndexSize": 134152171,
  "TotalLobSize": 352714752,
  "FreeLobSize": 140771328,
  "Name": "foo"
}</codeblock>
    </section>
    <section>
      <title>Coord Node Sample</title>
      <codeblock>> coord.snapshot(SDB_SNAP_COLLECTIONSPACES)
{
  "Name": "foo",
  "PageSize": 4096,  
  "LobPageSize": 262144,
  "TotalSize": 918945792,
  "FreeSize": 805183062,  
  "TotalDataSize": 155254784,
  "FreeDataSize": 133627904,
  "TotalIndexSize": 151060480,
  "FreeIndexSize": 134152171,
  "TotalLobSize": 352714752,
  "FreeLobSize": 140771328,
  "Collection": [
    {
      "Name": "bar"
    }
  ],
  "Group": [
    "db2"
  ]
}</codeblock>
    </section>
  </body>
</topic>
